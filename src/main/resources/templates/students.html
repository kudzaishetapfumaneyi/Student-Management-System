<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorator="layout" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.ultraq.net.nz/thymeleaf/layout ">
<head>
  <meta charset="UTF-8">
  <title>Student Management System</title>
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">

</head>
<body>
  <section layout:fragment = "content">
    <div class = "container">
      <div class = "row">
        <h1> List Students </h1>
      </div>

      <div class = "row">
        <div class = "col-lg-3">
          <form th:action="@{/students}" method="get">
            <input type="text" name="keyword" th:value="${keyword}" class = "form-control" placeholder="Find by Student Name & Student Surname" >
            <button type="submit" class="btn btn-info" >Search</button>
<!--            <button type="submit" class="btn btn-info" >Reset</button>-->
          </form>
          <a href="http://localhost:6060/download/students.csv" class = "btn btn-primary btn-sm mb-3">Download Student.csv</a>
          <a class="btn btn-primary btn-sm mb-3" th:href="@{pages/dashboard}">Back to home</a>
          <a th:href = "@{/students/new}" class = "btn btn-primary btn-sm mb-3"> Add Student</a>
        </div>
      </div>
      <table class = "table table-striped table-bordered table-hover">
        <thead class="table-dark">
        <tr>
          <th> Student First Name </th>
          <th> Student Last Name </th>
          <th> Student Email </th>
          <th> Student Address </th>
          <th> Student Age </th>
          <th> Student Class </th>
          <th> Student Contacts </th>

<!--          <th> Student Email </th>-->
          <th> Actions </th>
        </tr>
        </thead>

        <tbody>
        <tr th:each = "student: ${students}">
          <td th:text = "${student.firstName}"></td>
          <td th:text = "${student.lastName}"></td>
          <td th:text = "${student.email}"></td>
          <td th:text = "${student.address}"></td>
          <td th:text = "${student.age}"></td>
          <td th:text = "${student.classF}"></td>
          <td th:text = "${student.contacts}"></td>
          <td>
            <a th:href= "@{/students/edit/{id}(id=${student.id})}"
               class = "btn btn-primary">Update</a>
            <a th:href= "@{/students/{id}(id=${student.id})}"
               class = "btn btn-danger">Delete</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

  </section>
</body>
</html>